# =============================================================================
# RESYNC v5.9.3 - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env: cp production.env.example .env
# 2. Fill in ALL values marked as [REQUIRED]
# 3. Secure the file: chmod 600 .env
# =============================================================================

# -----------------------------------------------------------------------------
# CORE APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_ENVIRONMENT=production
APP_PROJECT_NAME="Resync Production"
APP_DEBUG=false
APP_LOG_LEVEL=INFO

# [REQUIRED] Generate a strong secret (min 32 chars)
# Run: openssl rand -hex 32
APP_SECRET_KEY=CHANGE_ME_PLEASE_WITH_ACTUAL_SECRET_KEY

# Server Binding (for Systemd/Gunicorn)
# Use 127.0.0.1 if using Nginx/Apache as reverse proxy (RECOMMENDED)
# Use 0.0.0.0 if testing connectivity directly
APP_SERVER_HOST=127.0.0.1
APP_SERVER_PORT=8000

# Worker Configuration (cpu_cores * 2 + 1)
APP_WORKERS=4
APP_WORKER_TIMEOUT=120

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# -----------------------------------------------------------------------------
# [REQUIRED] Full connection URL
# Format: postgresql+asyncpg://user:pass@host:port/dbname
APP_DATABASE_URL=postgresql+asyncpg://resync_user:secure_password@localhost:5432/resync_db

# Connection Pooling
APP_DB_POOL_MIN_SIZE=5
APP_DB_POOL_MAX_SIZE=20
APP_DB_POOL_MAX_LIFETIME=1800

# -----------------------------------------------------------------------------
# REDIS (Cache & task queue)
# -----------------------------------------------------------------------------
# [REQUIRED]
APP_REDIS_URL=redis://localhost:6379/0

# Pool Settings
APP_REDIS_POOL_MIN_SIZE=5
APP_REDIS_POOL_MAX_SIZE=50

# -----------------------------------------------------------------------------
# TWS / IBM WORKLOAD AUTOMATION
# -----------------------------------------------------------------------------
# [REQUIRED] TWS Connection Settings
APP_TWS_HOST=tws-master.example.com
APP_TWS_PORT=31111
APP_TWS_USER=twsuser
APP_TWS_PASSWORD=secure_tws_password
APP_TWS_VERIFY=true  # Set false only if self-signed certs are trusted at OS level or testing

# Polling Strategy
APP_TWS_POLLING_ENABLED=true
APP_TWS_POLLING_INTERVAL_SECONDS=30

# -----------------------------------------------------------------------------
# SECURITY & AUTHENTICATION
# -----------------------------------------------------------------------------
# [REQUIRED] Admin User
APP_ADMIN_USERNAME=admin
APP_ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD

# [REQUIRED] CORS Origins (Comma separated, NO wildcards *)
APP_CORS_ALLOWED_ORIGINS=https://resync.internal,https://admin.resync.internal

# Session Security
APP_SESSION_SECURE_COOKIE=true
APP_SESSION_TIMEOUT_MINUTES=60

# -----------------------------------------------------------------------------
# LLM & AI SERVICES (NVIDIA / OpenAI)
# -----------------------------------------------------------------------------
# [REQUIRED]
APP_LLM_API_KEY=nvapi-xxxxxxxxxxxxxxxxxxxxxxxx
APP_LLM_ENDPOINT=https://integrate.api.nvidia.com/v1
APP_LLM_MODEL=meta/llama-3.1-70b-instruct

# -----------------------------------------------------------------------------
# ENTERPRISE MODULES (Enable as needed)
# -----------------------------------------------------------------------------
APP_ENTERPRISE_ENABLE_INCIDENT_RESPONSE=true
APP_ENTERPRISE_ENABLE_AUTO_RECOVERY=true
APP_ENTERPRISE_ENABLE_RUNBOOKS=true
APP_ENTERPRISE_ENABLE_LOG_AGGREGATOR=true

# Compliance (Optional)
APP_ENTERPRISE_ENABLE_GDPR=false
